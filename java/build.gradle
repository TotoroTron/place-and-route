plugins {
    id 'java'
    id 'application'
}

repositories {
    mavenCentral()
}

dependencies {
    // Use environment variables to reference external libraries
    implementation files("${System.getenv('RAPIDWRIGHT_PATH')}/bin")
    implementation fileTree(dir: "${System.getenv('RAPIDWRIGHT_PATH')}/jars", include: ['*.jar'])
    // implementation fileTree(dir: "/home/bcheng/workspace/tools/RapidWright/jars", include: ['*.jar'])
}

tasks.withType(JavaCompile) {
    options.forkOptions.jvmArgs = ["-Xmx32736m"]
}

sourceSets {
    main {
        java {
            srcDirs = ['src/main/java']
        }
    }
}

application {
    mainClass = 'Main'
}

task generateClasspath {
    doLast {
        def classpath = configurations.compileClasspath.asPath
        def file = file("classpath.txt")
        file.text = classpath
    }
}
